<app-navigation-back></app-navigation-back>

<div *ngIf="post" class="container_post">
    <div class="box_infos_post">
        <div class="box_user_info">
            <img class="avatar" src="{{post.avatar}}" (click)= "goToProfile(post.id)" alt="avatar" >
            <h3 (click)= "goToProfile(post.id)">@{{post.username}}</h3>
        </div>
        <span>{{post.createdAt | date : short}}</span>
    </div>
    <div class="box_post_content">
        <p>{{post.content}}</p>
    </div>
    <div class="bar"></div>
    <div class="box_reactions">
        <h4 (click)="goToLikesPage()">{{post.likes}} j'aimes</h4>
    </div>
    <svg class="heart_icon"(click)="addLike(post.id)" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 391.837 391.837" style="enable-background:new 0 0 391.837 391.837;" xml:space="preserve">
    <g>
        <path [style.fill]="btnColor" d="M285.257,35.528c58.743,0.286,106.294,47.836,106.58,106.58
            c0,107.624-195.918,214.204-195.918,214.204S0,248.165,0,142.108c0-58.862,47.717-106.58,106.58-106.58l0,0
            c36.032-0.281,69.718,17.842,89.339,48.065C215.674,53.517,249.273,35.441,285.257,35.528z"/>
    </g>
</svg>
    <div class="container_comments">
        <form>
            <textarea [(ngModel)]="comment" name="comment" placeholder="{{message}}"></textarea>
            <button class="btn_send_comment" type="submit" (click)="addComment()">
                <span>Commenter</span>
                <img src="../../assets/icons/icon_compose_post.svg" alt="img_compose_post" />
            </button>
        </form>
        <h4 *ngIf="comments">{{comments.length}} commentaires</h4>
        <div class="box_comment" *ngFor="let comment of comments">
            <div class="box_infos_comment">
                <div class="box_user_info">
                    <img (click)="goToProfile(comment.id)"class="avatar" src="{{comment.avatar}}" alt="avatar" >
                    <h3 (click)="goToProfile(comment.id)">@{{comment.username}}</h3>
                </div>
                <span>{{comment.Comments.createdAt | date : short}}</span>
            </div>
            <div class="box_comment_content">
                <p>{{comment.Comments.content}}</p>
            </div>
        </div>
    </div>
</div>
